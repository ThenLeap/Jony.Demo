<UserControl x:Class="Jony.Demo.SideMenu.Views.UsersPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:hc="https://handyorg.github.io/handycontrol">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- 页面标题 -->
        <Grid Grid.Row="0" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <StackPanel>
                <TextBlock Text="用户管理" 
                          FontSize="28"
                          FontWeight="Bold"/>
                <TextBlock Text="管理系统用户信息和权限" 
                          FontSize="14"
                          Foreground="{DynamicResource SecondaryTextBrush}"
                          Margin="0,5,0,0"/>
            </StackPanel>
            
            <Button Grid.Column="1"
                    Content="添加用户"
                    Style="{StaticResource ButtonPrimary}"
                    Margin="10 0"
                    VerticalAlignment="Center">
                <!-- <Button.Icon> -->
                <!--     <TextBlock Text="&#xE710;"  -->
                <!--               FontFamily="Segoe MDL2 Assets"/> -->
                <!-- </Button.Icon> -->
            </Button>
        </Grid>
        
        <!-- 搜索和筛选 -->
        <hc:Card Grid.Row="1" 
                Margin="0,0,0,20"
                Background="{DynamicResource RegionBrush}"
                Effect="{StaticResource EffectShadow2}">
            <Grid Margin="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <hc:SearchBar Grid.Column="0"
                             hc:InfoElement.Placeholder="搜索用户名、邮箱、手机号..."
                             Style="{StaticResource SearchBarPlus}"/>
                
                <hc:ComboBox Grid.Column="1"
                            Margin="10,0,0,0"
                            hc:InfoElement.Placeholder="用户角色"
                            hc:InfoElement.TitlePlacement="Left"
                            hc:InfoElement.Title="角色">
                    <ComboBoxItem Content="全部"/>
                    <ComboBoxItem Content="管理员"/>
                    <ComboBoxItem Content="普通用户"/>
                    <ComboBoxItem Content="VIP用户"/>
                </hc:ComboBox>
                
                <hc:ComboBox Grid.Column="2"
                            Margin="10,0,0,0"
                            hc:InfoElement.Placeholder="用户状态"
                            hc:InfoElement.TitlePlacement="Left"
                            hc:InfoElement.Title="状态">
                    <ComboBoxItem Content="全部"/>
                    <ComboBoxItem Content="正常"/>
                    <ComboBoxItem Content="禁用"/>
                    <ComboBoxItem Content="待审核"/>
                </hc:ComboBox>
                
                <Button Grid.Column="3"
                       Content="重置"
                       Margin="10,0,0,0"
                       Style="{StaticResource ButtonDefault}"/>
            </Grid>
        </hc:Card>
        
        <!-- 用户列表 -->
        <hc:Card Grid.Row="2"
                Background="{DynamicResource RegionBrush}"
                Effect="{StaticResource EffectShadow2}">
            <DataGrid Margin="20"
                     AutoGenerateColumns="False"
                     HeadersVisibility="All"
                     RowHeaderWidth="60"
                     CanUserAddRows="False"
                     SelectionMode="Single">
                <DataGrid.Columns>
                    <DataGridTemplateColumn Header="头像" Width="80">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Border Width="40" 
                                       Height="40"
                                       CornerRadius="20"
                                       Background="{DynamicResource PrimaryBrush}">
                                    <TextBlock Text="&#xE77B;" 
                                              FontFamily="Segoe MDL2 Assets"
                                              FontSize="20"
                                              Foreground="White"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Center"/>
                                </Border>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    
                    <DataGridTextColumn Header="用户名" Width="150" Binding="{Binding Username}"/>
                    <DataGridTextColumn Header="真实姓名" Width="120" Binding="{Binding RealName}"/>
                    <DataGridTextColumn Header="邮箱" Width="200" Binding="{Binding Email}"/>
                    <DataGridTextColumn Header="手机号" Width="150" Binding="{Binding Phone}"/>
                    <DataGridTextColumn Header="角色" Width="120" Binding="{Binding Role}"/>
                    
                    <DataGridTemplateColumn Header="状态" Width="100">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <hc:Tag Content="{Binding Status}" 
                                       Style="{StaticResource TagSuccess}"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    
                    <DataGridTextColumn Header="注册时间" Width="180" Binding="{Binding RegisterTime}"/>
                    
                    <DataGridTemplateColumn Header="操作" Width="200">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Button Content="编辑" 
                                           Style="{StaticResource ButtonPrimary}"
                                           Margin="0,0,5,0"
                                           Padding="10,5"/>
                                    <Button Content="删除" 
                                           Style="{StaticResource ButtonDanger}"
                                           Margin="5,0,0,0"
                                           Padding="10,5"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </hc:Card>
        
        <!-- 分页 -->
        <hc:Pagination Grid.Row="3"
                      Margin="0,20,0,0"
                      HorizontalAlignment="Right"
                      PageIndex="1"
                      MaxPageCount="50"
                      DataCountPerPage="10"/>
    </Grid>
</UserControl>